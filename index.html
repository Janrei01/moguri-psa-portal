<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>公安内部職員ポータル｜メイン</title>
  <link rel="stylesheet" href="assets/styles.css" /><p class="footer-note">
  ※本ページはフィクションとして制作された個人用コンテンツです。
</p>
</head>

<body>
    <div id="authGate" class="auth-gate">
  <div class="auth-box">
    <h1>内部システム</h1>
    <p>アクセスコードを入力してください。
</p>
    <p class="footer-note">
  ※本ページはフィクションとして制作された個人用コンテンツです。
</p>

    <input
      type="password"
      id="authPassword"
      placeholder="Access Code"
    />

    <button onclick="checkPassword()">認証</button>

    <div id="authError" class="auth-error"></div>
  </div>
</div>
<a class="skip-link" href="#content">本文へ移動</a>

<div class="site">
  <header class="topbar" role="banner">
    <div class="topbar-inner">
      <div class="brand">
        <h1>公安内部職員ポータル</h1>
        <div class="sub">Public Security Agency / Internal Personnel Portal</div>
      </div>
<div class="meta">
  <div>本日：<span id="currentDate">----</span></div>
  <div>最終ログイン：<strong><span id="lastLogin">----</span></strong></div>
</div>
  </header>

  <div class="wrap">
    <aside class="sidebar" aria-label="サイドメニュー">
      <h2>メニュー</h2>

      <div class="userbox" aria-label="ログイン中の利用者">
        <div class="label">ログイン中の利用者</div>
        <p class="name">潜 成入</p>
        <div class="line">職員番号：PSA-J-0714</div>
        <div class="line">所属：公安調査庁</div>
      </div>

      <nav class="nav" aria-label="主要リンク">
        <a href="index.html" aria-current="page">メイン</a>
        <a href="news.html">お知らせ</a>
        <a href="profile.html">個人情報照会</a>
        <a href="dept.html">所属・役職情報</a>
        <a href="messages.html">業務連絡</a>
        <a href="applications.html">各種申請</a>
        <a href="links.html">内部リンク集</a>
        <a href="help.html">ヘルプ</a>
        <div class="small" style="margin-top:10px;">
          本サイトは職員専用です。<br>
          外部端末での閲覧は禁止されています。
        </div>
      </nav>
    </aside>

    <main class="main" id="content" role="main">
      <div class="breadcrumbs" aria-label="パンくず">
        <span>トップ</span>
      </div>

      <h2 class="page-title">メイン</h2>
      <p class="lead">よく使う機能へのショートカットと、重要なお知らせを表示します。</p>

      <div class="alert warn" role="note" aria-label="重要なお知らせ">
        <div class="title">【重要】定期メンテナンスのお知らせ</div>
        <p>20██/██/██（火）00:00〜04:00 の間、ポータル各機能が断続的に利用できません。</p>
      </div>

      <section class="grid-2" aria-label="メインコンテンツ">
        <div class="panel">
          <h3>ショートカット</h3>
          <ul class="list">
            <li><a href="profile.html">個人情報照会</a>（登録内容の確認）</li>
            <li><a href="applications.html">各種申請</a>（休暇・端末・所属関連）</li>
            <li><a href="messages.html">業務連絡</a>（掲示板）</li>
            <li><a href="links.html">内部リンク集</a>（関連システム）</li>
          </ul>
          <div class="note">※一部機能は配属・権限により表示が異なります。</div>
        </div>

        <div class="panel">
          <h3>重要なお知らせ（抜粋）</h3>
          <div class="cards" role="list">
            <div class="card" role="listitem">
              <div class="kicker">20██/██/██ <span class="tag">通知</span></div>
              <div class="headline"><a href="news.html#n-001">内部規定改訂について</a></div>
              <span class="meta">改訂対象：情報端末の持出し・保管／外部接続禁止事項</span>
            </div>
            <div class="card" role="listitem">
              <div class="kicker">20██/██/██ <span class="tag">重要</span></div>
              <div class="headline"><a href="news.html#n-002">定期健康診断 実施案内</a></div>
              <span class="meta">受診期限：20██/██/██（金）</span>
            </div>
            <div class="card" role="listitem">
              <div class="kicker">20██/██/██ <span class="tag">連絡</span></div>
              <div class="headline"><a href="news.html#n-003">パスワード更新のお願い</a></div>
              <span class="meta">更新周期：90日／同一パスワードの再利用不可</span>
            </div>
          </div>
        </div>
      </section>

      <section class="panel" style="margin-top:12px;">
        <h3>利用状況</h3>
        <table class="table" aria-label="利用状況">
          <tr>
            <th>アカウント状態</th>
            <td>有効</td>
          </tr>
          <tr>
            <th>権限区分</th>
            <td>職員（閲覧）<span class="muted">※配属・業務により追加付与</span></td>
          </tr>
          <tr>
            <th>直近の認証</th>
            <td>
              20██/██/██ 07:14（端末：IN-TERM-███）<br>
              <span class="muted">外部端末：記録なし</span>
            </td>
          </tr>
        </table>
      </section>

    </main>
  </div>

  <footer class="footer" role="contentinfo">
    <div class="footer-inner">
      公安調査庁（内部）／本サイトは職員専用です。<br>
      〒1██-████ 東京都██区██町██丁目　｜　© 20██ Public Security Agency
    </div>
 <p class="footer-note">
  ※本ページはフィクションとして制作された個人用コンテンツです。
</p>
  </footer>
</div>
<script>
  (function () {
    const now = new Date();

    // フォーマット関数
    function formatDateTime(date) {
      const y = date.getFullYear();
      const m = String(date.getMonth() + 1).padStart(2, "0");
      const d = String(date.getDate()).padStart(2, "0");
      const h = String(date.getHours()).padStart(2, "0");
      const min = String(date.getMinutes()).padStart(2, "0");
      return `${y}/${m}/${d} ${h}:${min}`;
    }

    // 本日の日時表示
    const currentDateEl = document.getElementById("currentDate");
    if (currentDateEl) {
      currentDateEl.textContent = formatDateTime(now);
    }

    // 最終ログイン表示（前回アクセス）
    const lastLoginEl = document.getElementById("lastLogin");
    const lastLogin = localStorage.getItem("lastLoginTime");

    if (lastLogin && lastLoginEl) {
      lastLoginEl.textContent = lastLogin;
    } else if (lastLoginEl) {
      lastLoginEl.textContent = "—";
    }

    // 今回のアクセスを保存
    localStorage.setItem("lastLoginTime", formatDateTime(now));
  })();
</script>
<script>
  const CORRECT_PASSWORD = "PSA0714";

  function checkPassword() {
    const input = document.getElementById("authPassword").value;
    const error = document.getElementById("authError");

    if (input === CORRECT_PASSWORD) {
      document.getElementById("authGate").style.display = "none";
      sessionStorage.setItem("psa_auth", "ok");
    } else {
      error.textContent = "認証に失敗しました。";
    }
  }

  // 再訪問時はスキップ
  if (sessionStorage.getItem("psa_auth") === "ok") {
    document.getElementById("authGate").style.display = "none";
  }
</script>
</body>
</html>
