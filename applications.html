<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>公安内部職員ポータル｜各種申請</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
<a class="skip-link" href="#content">本文へ移動</a>

<div class="site">
  <header class="topbar" role="banner">
    <div class="topbar-inner">
      <div class="brand">
        <h1>公安内部職員ポータル</h1>
        <div class="sub">Public Security Agency / Internal Personnel Portal</div>
      </div>
     <div class="meta">
  <div>本日：<span id="currentDate">----</span></div>
  <div>最終ログイン：<strong><span id="lastLogin">----</span></strong></div>
</div>
    </div>
  </header>

  <div class="wrap">
    <aside class="sidebar" aria-label="サイドメニュー">
      <h2>メニュー</h2>
      <div class="userbox">
        <div class="label">ログイン中の利用者</div>
        <p class="name">潜 成入</p>
        <div class="line">職員番号：PSA-J-0714</div>
        <div class="line">所属：公安調査庁</div>
      </div>

      <nav class="nav" aria-label="主要リンク">
        <a href="index.html">メイン</a>
        <a href="news.html">お知らせ</a>
        <a href="profile.html">個人情報照会</a>
        <a href="dept.html">所属・役職情報</a>
        <a href="messages.html">業務連絡</a>
        <a href="applications.html" aria-current="page">各種申請</a>
        <a href="links.html">内部リンク集</a>
        <a href="help.html">ヘルプ</a>
      </nav>
    </aside>

    <main class="main" id="content" role="main">
      <div class="breadcrumbs">
        <a href="index.html">トップ</a> &gt; <span>各種申請</span>
      </div>

      <h2 class="page-title">各種申請</h2>
      <p class="lead">
        申請内容を入力し、送信してください。<br>
        承認状況や手続きの詳細は、所属の指示に従って確認してください。
      </p>

      <!-- 申請フォーム -->
      <section class="panel">
        <h3>休暇申請</h3>

        <form id="applicationForm">
          <div class="form-row">
            <label for="type">申請種別</label>
            <select id="type" required>
              <option value="">選択してください</option>
              <option>年次休暇</option>
              <option>特別休暇</option>
              <option>振替休暇</option>
              <option>その他</option>
            </select>
          </div>

          <div class="form-row">
            <label for="date">希望日</label>
            <input id="date" type="date" required />
          </div>

          <div class="form-row">
            <label for="reason">理由・備考</label>
            <textarea id="reason" placeholder="必要事項があれば入力してください。"></textarea>
          </div>

          <div class="actions">
            <button type="submit" class="btn primary">送信</button>
            <button type="reset" class="btn">入力内容をクリア</button>
          </div>

          <div class="hint">
            ※申請後の流れについては、所属の運用に従ってください。
          </div>
        </form>
      </section>

    </main>
  </div>

  <footer class="footer" role="contentinfo">
    <div class="footer-inner">
      公安調査庁（内部）／本サイトは職員専用です。<br>
      〒1██-████ 東京都██区██町██丁目　｜　© 20██ Public Security Agency
    </div>
  </footer>
</div>

<!-- 送信演出用スクリプト -->

<script>
  const form = document.getElementById("applicationForm");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const now = new Date();

    const year = now.getFullYear();
    const month = String(now.getMonth() + 1).padStart(2, "0");
    const day = String(now.getDate()).padStart(2, "0");
    const hours = String(now.getHours()).padStart(2, "0");
    const minutes = String(now.getMinutes()).padStart(2, "0");

    const formattedDateTime =
      year + "/" + month + "/" + day + " " + hours + ":" + minutes;

    alert(
      "申請を受け付けました。\n" +
      "受付日時：" + formattedDateTime + "\n\n" +
      "処理状況は所属の指示に従って確認してください。"
    );

    form.reset();
  });
</script>
<script>
  (function () {
    const now = new Date();

    // フォーマット関数
    function formatDateTime(date) {
      const y = date.getFullYear();
      const m = String(date.getMonth() + 1).padStart(2, "0");
      const d = String(date.getDate()).padStart(2, "0");
      const h = String(date.getHours()).padStart(2, "0");
      const min = String(date.getMinutes()).padStart(2, "0");
      return `${y}/${m}/${d} ${h}:${min}`;
    }

    // 本日の日時表示
    const currentDateEl = document.getElementById("currentDate");
    if (currentDateEl) {
      currentDateEl.textContent = formatDateTime(now);
    }

    // 最終ログイン表示（前回アクセス）
    const lastLoginEl = document.getElementById("lastLogin");
    const lastLogin = localStorage.getItem("lastLoginTime");

    if (lastLogin && lastLoginEl) {
      lastLoginEl.textContent = lastLogin;
    } else if (lastLoginEl) {
      lastLoginEl.textContent = "—";
    }

    // 今回のアクセスを保存
    localStorage.setItem("lastLoginTime", formatDateTime(now));
  })();
</script>
</body>
</html>